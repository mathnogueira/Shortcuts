"use strict";Array.prototype.has=function(e){for(var t in this)if(this[t].name==e)return!0;return!1};var Shortcuts=Shortcuts||{};Shortcuts.bind=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;++r){var o=this.normalize(e[r]);this.actions[o]=t}else this.actions[this.normalize(e)]=t},Shortcuts.normalize=function(e){return e.toLowerCase().replace(/ /g,"")},Shortcuts.start=function(){window.onkeydown=this.addActiveKey,window.onkeyup=this.removeActiveKey},Shortcuts.addActiveKey=function(e){var t=Shortcuts.getKeyByCode(e.keyCode);return t.pressed=!0,Shortcuts.changedState(e)},Shortcuts.removeActiveKey=function(e){var t=Shortcuts.getKeyByCode(e.keyCode);t.pressed=!1},Shortcuts.getPressedKeys=function(){var e=[];for(var t in Shortcuts.keys)Shortcuts.keys[t].pressed&&e.push(Shortcuts.keys[t]);return e},Shortcuts.changedState=function(e){var t,r=[];for(t in Shortcuts.keys)Shortcuts.keys[t].pressed&&r.push(Shortcuts.keys[t].name);var o=Shortcuts.normalize(r.join(" + "));if(Shortcuts.actions[o])return Shortcuts.actions[o](e);var s=Shortcuts.getPressedKeys();if(s.length>=2){if(s.has("ctrl")&&(2==s.length&&s.has("alt")||s.has("shift")))return!0;for(t in s)s[t].pressed=!1}return!0},Shortcuts.getKeyByCode=function(e){for(var t in Shortcuts.keys)if(Shortcuts.keys[t].code==e)return Shortcuts.keys[t]},Shortcuts.actions=[],Shortcuts.keys=[{name:"backspace",code:8},{name:"tab",code:9},{name:"enter",code:13},{name:"shift",code:16},{name:"ctrl",code:17},{name:"alt",code:18},{name:"pause",code:19},{name:"caps_lock",code:20},{name:"escape",code:27},{name:"page up",code:33},{name:"page down",code:34},{name:"end",code:35},{name:"home",code:36},{name:"left_arrow",code:37},{name:"up_arrow",code:38},{name:"right_arrow",code:39},{name:"down_arrow",code:40},{name:"insert",code:45},{name:"delete",code:46},{name:";",code:186},{name:"/",code:191}];var i;for(i=0;10>i;++i)Shortcuts.keys.push({name:""+i,code:48+i});for(i=0;26>i;++i)Shortcuts.keys.push({name:String.fromCharCode(65+i),code:65+i});for(i=0;12>i;i++)Shortcuts.keys.push({name:"F"+(i+1),code:112+i});for(i in Shortcuts.keys)Shortcuts.keys[i].pressed=!1;
